<style>
  @font-face {
    font-family: 'Silly';
    src: url('../fonts/MotleyForcesRegular-w1rZ3.ttf');
  }

  body {
    margin: 0;
    width: 100%;
    height: 100%;

    background-color: #222;
    color: white;

    font-family: 'Silly';
    text-shadow: 2px 2px black;

    display: flex;
    justify-content: center;
  }
  #wrapper {
    position: relative;
    aspect-ratio: 15 / 16;
    min-width: 0%;
    width: auto;
  }
  #pause {
    background-color: #000b;
  }

  .center {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .message {
    position: absolute;
    top: 0;
    width: 100%;
    height: 100%;
    font-size: 7vmin;
    /* visibility: hidden; */
  }
</style>

<body>
  <div id="wrapper">
    <canvas id="canvas"></canvas>
    <div id="pause" class="message center">Paused</div>
  </div>
</body>

<script type="module">
  import { AnimatedCanvas } from '../src/common/AnimatedCanvas.js';
  import { World } from '../src/World.js';

  const canvas = new AnimatedCanvas( 100, 100, document.getElementById( 'canvas' ) );
  const world = await World.fromFile( '../levels/classic/retro.json' );

  let scale = 1;

  canvas.draw = ( ctx ) => {
    ctx.save();
    ctx.scale( scale, scale );
    world.draw( ctx );
    ctx.restore();
  }

  const wrapper = document.getElementById( 'wrapper' );

  window.onresize = ( e ) => {
    canvas.setSize( wrapper.clientWidth, wrapper.clientHeight );

    scale = wrapper.clientHeight / 16;

    canvas.redraw();
  };
  window.onresize();
  
</script>