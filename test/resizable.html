<style>
  body {
    margin: 0;
    width: 100%;
    height: 100%;

    background-color: #222;
    display: flex;
    justify-content: center;
  }
  #wrapper {
    background-color: tan;
    aspect-ratio: 15 / 16;
    min-width: 0%;
    width: auto;
  }
</style>

<body>
  <div id="wrapper">
    <canvas id="canvas"></canvas>
  </div>
</body>

<script type="module">
  import { AnimatedCanvas } from '../src/common/AnimatedCanvas.js';
  import { World } from '../src/World.js';

  const canvas = new AnimatedCanvas( 100, 100, document.getElementById( 'canvas' ) );
  const world = await World.fromFile( '../levels/classic/retro.json' );

  let scale = 1;

  canvas.draw = ( ctx ) => {
    ctx.save();
    ctx.scale( scale, scale );
    world.draw( ctx );
    ctx.restore();
  }

  const wrapper = document.getElementById( 'wrapper' );

  window.onresize = ( e ) => {
    canvas.setSize( wrapper.clientWidth, wrapper.clientHeight );

    scale = wrapper.clientHeight / 16;

    canvas.redraw();
  };
  window.onresize();
  
</script>